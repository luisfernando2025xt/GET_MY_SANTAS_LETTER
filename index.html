<!DOCTYPE html> 
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SANTA'S LETTER 2025 - Premium</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#070607;
    --gold:#f0c84b;
    --muted:#bdbdbd;
    --glass: rgba(255,255,255,0.03);
  }

  body{
    margin:0;
    background:var(--bg);
    color:#fff;
    font-family:"Poppins",Arial,sans-serif;
  }
  a{color:inherit;text-decoration:none}

  .wrap{
    max-width:1300px;
    margin:28px auto;
    padding:28px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:84px;
  }

  /* Responsive H1 */
  h1{
    font-family:"Playfair Display",serif;
    font-weight:700;
    font-size: clamp(44px, 7vw, 84px); /* scales between 48px and 100px */
    color:var(--gold);
    text-shadow:0 6px 24px rgba(240,200,75,0.08);
    text-align:center;
  }
  .countdown{
  color: var(--gold);
  font-weight: 600;
  letter-spacing: 1px;
  text-shadow: 0 4px 16px rgba(240,200,75,0.25);
}

  .instructions{
    max-width:980px;
    text-align:center;
    padding:34px;
    border-radius:18px;
    border:1px solid rgba(240,200,75,0.06);
    font-size:clamp(16px,2vw,20px);
    color:#e9e6e0;
  }

  .promo{
    max-width:980px;
    text-align:center;
    padding:24px;
    border-radius:18px;
    border:1px solid rgba(240,200,75,0.06);
    font-size:clamp(16px,1.8vw,18px);
    color:#e9e6e0;
    background:rgba(255,255,255,0.03);
    margin-top:28px;
  }
  .promo a.button{
    display:inline-block;
    padding:10px 18px;
    margin:6px;
    background:var(--gold);
    color:#111;
    font-weight:700;
    border-radius:12px;
    text-decoration:none;
    font-size:clamp(14px,1.5vw,16px);
  }

  .main-boxes{
    display:flex;
    justify-content:center;
    align-items:center;
    flex-wrap:wrap;
    gap:24px;
  }
  .box-container{
    position:relative;
    width:190px;
    height:190px;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .main-box{
    width:100%;
    height:100%;
    border-radius:16px;
    border:3px solid rgba(240,200,75,0.95);
    background: linear-gradient(145deg,#2a2a2a,#151515);
    display:flex;
    align-items:center;
    justify-content:center;
    color:var(--gold);
    font-weight:700;
    font-size:clamp(20px,2.5vw,26px);
    cursor:pointer;
  }

  /* Modal styles */
  .modal{
    display:none;
    position:fixed;
    inset:0;
    z-index:9999;
    background:linear-gradient(180deg, rgba(0,0,0,0.72), rgba(0,0,0,0.82));
    backdrop-filter: blur(6px);
    align-items:center;
    justify-content:center;
    padding:28px;
  }
  .modal.show{display:flex}
  .viewer{
    width:100%;
    max-width:1180px;
    height:84vh;
    background:#111;
    border-radius:16px;
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }
  .viewer-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:18px 22px;
    background:linear-gradient(90deg,#0f0f0f, #141414);
  }
  .viewer-title{
    font-family:"Playfair Display",serif;
    font-size:clamp(16px,2vw,20px);
    color:var(--gold);
    font-weight:700;
  }
  .viewer-controls{
    display:flex;
    gap:10px;
    align-items:center;
  }
  .open-new{
    background:var(--glass);
    padding:8px 12px;
    border-radius:10px;
    color:var(--gold);
    border:1px solid rgba(255,255,255,0.03);
  }
  .close-btn{
    cursor:pointer;
    font-size:22px;
    color:var(--gold);
    padding:8px 12px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.02);
    background:transparent;
  }
  .viewer-body{
    flex:1;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:12px;
  }
  .viewer-body iframe{
    width:100%;
    height:100%;
    border:0;
    background:#000;
  }
  .viewer-footer{
    padding:12px 18px;
    color:var(--muted);
    font-size:14px;
    border-top:1px solid rgba(255,255,255,0.02);
    display:flex;
    justify-content:space-between;
    align-items:center;
  }

  /* Responsive tweaks for small screens */
  @media(max-width:480px){
    .box-container{width:150px;height:150px;}
    .main-box{font-size:clamp(16px,5vw,22px);}
    .promo a.button{padding:8px 12px;font-size:14px;}
    .instructions{padding:20px;}
  }
</style>
</head>
<body>
<!-- Language Selector -->
<div style="position:sticky;top:0;background:black;padding:10px;z-index:999;text-align:right;">
    <select id="langSelect" style="padding:5px 10px;font-weight:600;border-radius:5px;background:#222;color:gold;border:1px solid gold;">
        <option value="EN">English</option>
        <option value="ES">Espa√±ol</option>
        <option value="DE">Deutsch</option>
    </select>
</div>

  
<div class="wrap">
  <div class="year-tag">Santa in 2025</div>
<h1>Santa¬¥s Letter 2025</h1>
  <div class="countdown" id="countdown"></div>
<div class="instructions">
  Some people are still waiting for their letter.<br>
  Help them receive it before the Christmas magic is over.<br><br>

  <strong>Share the Magic</strong><br>

  <a href="#"
     onclick="shareWhatsApp(); return false;"
     style="color:var(--gold);font-weight:600;">WhatsApp</a>
  ¬∑
  <a href="https://twitter.com/intent/tweet?text=Santa%27s%20Letter%202025%20%E2%9C%A8%20Help%20someone%20receive%20their%20letter%20before%20the%20Christmas%20magic%20is%20over.%20%F0%9F%8E%84%20https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/"
     target="_blank" style="color:var(--gold);font-weight:600;">X</a>
  ¬∑
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/"
     target="_blank" style="color:var(--gold);font-weight:600;">Facebook</a>
  ¬∑
  <a href="#"
     onclick="navigator.clipboard.writeText('https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/'); alert('Link copied. Share it on Instagram DM or Story.'); return false;"
     style="color:var(--gold);font-weight:600;">Instagram</a>
</div>

<!-- <<< INSERT LANGUAGE + NAME BLOCK HERE >>> -->
<div id="name-language-wrapper" style="margin-top:30px; text-align:center;">
  <div id="language-section" style="margin-bottom:20px;">
    <label for="langSelect" style="color:#f0c84b; font-weight:600; margin-right:10px;">
      Choose your language:
    </label>
    <select id="langSelect" style="padding:6px 10px; border-radius:8px; border:none; font-weight:600;">
      <option value="EN">English</option>
      <option value="ES">Espa√±ol</option>
      <option value="DE">Deutsch</option>
    </select>
  </div>

<div id="name-section">
  <input type="text" id="nameInput" placeholder="Enter your name" style="padding:8px 12px; border-radius:8px; border:none; width:200px;">
</div>

</div>

  <div class="main-boxes">
    <div class="box-container">
      <div class="main-box" id="box5">üéÅ My Letter</div>
    </div>
  </div>

  <!-- Promo Section -->
<div class="promo">
  üéÑ Your Santa letter is complete.<br><br>

  If this message brought a smile or a moment of warmth, you‚Äôre welcome to support the magic and help Santa keep delivering letters around the world.<br><br>

  <a href="https://legacybuilder35.gumroad.com/l/jgcdam" target="_blank" class="button">
    ‚òï Buy Santa a Coffee
  </a>
</div>

</div>

<div id="modal" class="modal" aria-hidden="true">
  <div class="viewer">
    <div class="viewer-header">
      <div class="viewer-title" id="viewerTitle">Contenido</div>
      <div class="viewer-controls">
        <a id="viewerOpenNew" class="open-new" href="#" target="_blank" style="display:none">Open in New Tab</a>
        <button id="closeBtn" class="close-btn">‚úï</button>
      </div>
    </div>
    <div class="viewer-body" id="viewerBody"></div>
    <div class="viewer-footer" id="viewerFooter"></div>
  </div>
</div>

<script>
const box5 = document.getElementById('box5');
const modal = document.getElementById('modal');
const viewerBody = document.getElementById('viewerBody');
const viewerTitle = document.getElementById('viewerTitle');
const viewerFooter = document.getElementById('viewerFooter');
const viewerOpenNew = document.getElementById('viewerOpenNew');
const closeBtn = document.getElementById('closeBtn');

// ===== LETTER CODES =====
const box5Codes = ["ABC123","XYZ789","LMN456","PL55MN88","QW11ER22","GH12JK34","RT56UV78","YZ90AB12","CD34EF56","MN78OP90"];

// ===== FUNCTION TO GENERATE LETTER =====
async function startLetter() {
  const name = document.getElementById("nameInput").value.trim();
  const lang = document.getElementById("langSelect").value;

  if (!name) {
    alert(lang === 'ES' ? "¬°Por favor ingresa tu nombre!" : lang === 'DE' ? "Bitte gib deinen Namen ein!" : "Please enter your name!");
    return;
  }

  const code = box5Codes[Math.floor(Math.random()*box5Codes.length)];

  const response = await fetch('letters.json');
  const letters = await response.json();

  if (!letters[code] || !letters[code][lang]) {
    alert(lang === 'ES' ? "Lo sentimos, esta carta a√∫n no est√° disponible en tu idioma." : lang === 'DE' ? "Entschuldigung, dieser Brief ist in deiner Sprache noch nicht verf√ºgbar." : "Sorry, this letter is not available in your language yet.");
    return;
  }

  const letterContent = letters[code][lang].map(paragraph => paragraph.replace("{name}", name)).join("<br><br>");

  viewerTitle.textContent = lang === 'ES' ? "Tu Carta de Santa" : lang === 'DE' ? "Dein Weihnachtsbrief" : "Your Santa Letter";
  viewerFooter.innerHTML = `Letter Code: ${code}`;
  viewerBody.innerHTML = letterContent;
  viewerOpenNew.style.display = "none";
  modal.classList.add('show');
  modal.setAttribute('aria-hidden', 'false');
}

// ===== OPEN MODAL =====
box5.addEventListener('click', startLetter);

closeBtn.addEventListener('click', ()=>{
  modal.classList.remove('show');
  viewerBody.innerHTML = '';
  modal.setAttribute('aria-hidden','true');
});

modal.addEventListener('click', (ev)=>{
  if(ev.target === modal){
    modal.classList.remove('show');
    viewerBody.innerHTML = '';
    modal.setAttribute('aria-hidden','true');
  }
});

// ===== COUNTDOWN CLOCK =====
const countdownEl = document.getElementById("countdown");
const targetDate = new Date("December 25, 2025 00:00:00").getTime();

function updateCountdown(){
  const now = Date.now();
  const diff = targetDate - now;

  if(diff <= 0){
    countdownEl.textContent = "üéÑ Christmas is here";
    return;
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const minutes = Math.floor((diff / (1000 * 60)) % 60);
  const seconds = Math.floor((diff / 1000) % 60);

  countdownEl.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
}

updateCountdown();
setInterval(updateCountdown, 1000);

// ===== WHATSAPP SHARE =====
function shareWhatsApp(){
  const link = "https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/";
  const message = "Santa's Letter 2025 ‚ú® Help someone receive their letter before the Christmas magic is over üéÑ\n\n" + link;
  const encoded = encodeURIComponent(message);

  const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

  if(isMobile){
    window.open("https://wa.me/?text=" + encoded, "_blank");
  } else {
    navigator.clipboard.writeText(link);
    alert("Link copied. Share it on WhatsApp.");
  }
}

// ===== STATIC TEXTS FOR LANGUAGES =====
const texts = {
  EN: {
    yearTag: "Santa in 2025",
    heading: "Santa's Letter 2025",
    instructions: `
      Some people are still waiting for their letter.<br>
      Help them receive it before the Christmas magic is over.<br><br>
      <strong>Share the Magic</strong><br>
      <a href="#" onclick="shareWhatsApp(); return false;" style="color:var(--gold);font-weight:600;">WhatsApp</a> ¬∑
      <a href="https://twitter.com/intent/tweet?text=Santa%27s%20Letter%202025" target="_blank" style="color:var(--gold);font-weight:600;">X</a> ¬∑
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/" target="_blank" style="color:var(--gold);font-weight:600;">Facebook</a> ¬∑
      <a href="#" onclick="navigator.clipboard.writeText('https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/'); alert('Link copied. Share it on Instagram DM or Story.'); return false;" style="color:var(--gold);font-weight:600;">Instagram</a>
    `,
    namePlaceholder: "Enter your name",
    promoText: `
üéÑ Your Santa letter is complete.<br><br>
If this message brought a smile or a moment of warmth, you‚Äôre welcome to support the magic and help Santa keep delivering letters around the world.<br><br>
<a href="https://legacybuilder35.gumroad.com/l/jgcdam" target="_blank" class="button">‚òï Buy Santa a Coffee</a>
`
  },
  ES: {
    yearTag: "Santa en 2025",
    heading: "Carta de Santa 2025",
    instructions: `
      Algunas personas todav√≠a esperan su carta.<br>
      Ay√∫dalos a recibirla antes de que termine la magia navide√±a.<br><br>
      <strong>Comparte la Magia</strong><br>
      <a href="#" onclick="shareWhatsApp(); return false;" style="color:var(--gold);font-weight:600;">WhatsApp</a> ¬∑
      <a href="https://twitter.com/intent/tweet?text=Carta%20de%20Santa%202025" target="_blank" style="color:var(--gold);font-weight:600;">X</a> ¬∑
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/" target="_blank" style="color:var(--gold);font-weight:600;">Facebook</a> ¬∑
      <a href="#" onclick="navigator.clipboard.writeText('https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/'); alert('Enlace copiado. Comp√°rtelo en Instagram DM o Historia.'); return false;" style="color:var(--gold);font-weight:600;">Instagram</a>
    `,
    namePlaceholder: "Ingresa tu nombre",
    promoText: `
üéÑ Tu carta de Santa est√° completa.<br><br>
Si este mensaje te hizo sonre√≠r o sentir un momento de calidez, puedes apoyar la magia y ayudar a Santa a seguir entregando cartas alrededor del mundo.<br><br>
<a href="https://legacybuilder35.gumroad.com/l/jgcdam" target="_blank" class="button">‚òï Compra un caf√© para Santa</a>
`
  },
  DE: {
    yearTag: "Weihnachtsmann 2025",
    heading: "Brief vom Weihnachtsmann 2025",
    instructions: `
      Manche Leute warten noch auf ihren Brief.<br>
      Hilf ihnen, ihn zu erhalten, bevor die Weihnachtsmagie vorbei ist.<br><br>
      <strong>Teile die Magie</strong><br>
      <a href="#" onclick="shareWhatsApp(); return false;" style="color:var(--gold);font-weight:600;">WhatsApp</a> ¬∑
      <a href="https://twitter.com/intent/tweet?text=Brief%20vom%20Weihnachtsmann%202025" target="_blank" style="color:var(--gold);font-weight:600;">X</a> ¬∑
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/" target="_blank" style="color:var(--gold);font-weight:600;">Facebook</a> ¬∑
      <a href="#" onclick="navigator.clipboard.writeText('https://luisfernando2025xt.github.io/GET_MY_SANTAS_LETTER/'); alert('Link kopiert. Teile es auf Instagram DM oder Story.'); return false;" style="color:var(--gold);font-weight:600;">Instagram</a>
    `,
    namePlaceholder: "Gib deinen Namen ein",
    promoText: `
üéÑ Dein Weihnachtsbrief ist fertig.<br><br>
Wenn diese Nachricht dir ein L√§cheln geschenkt hat, kannst du die Magie unterst√ºtzen und Santa helfen, weiterhin Briefe auf der ganzen Welt zuzustellen.<br><br>
<a href="https://legacybuilder35.gumroad.com/l/jgcdam" target="_blank" class="button">‚òï Kaufe Santa einen Kaffee</a>
`
  }
};

// ===== UPDATE STATIC TEXT =====
function updateStaticText() {
    const lang = document.getElementById("langSelect").value;
    document.querySelector(".year-tag").innerHTML = texts[lang].yearTag;
    document.querySelector("h1").innerHTML = texts[lang].heading;
    document.querySelector(".instructions").innerHTML = texts[lang].instructions;
    document.getElementById("nameInput").placeholder = texts[lang].namePlaceholder;
    document.querySelector(".promo").innerHTML = texts[lang].promoText;
}

document.getElementById("langSelect").addEventListener("change", updateStaticText);
updateStaticText();
</script>

</body>
</html>
